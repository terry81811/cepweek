
/* =====================================
   main.scss
   ===================================== */
@import 'h5bp';
@import 'compass';
@import 'mixin';

$transifion-effect: all .15s ease-in-out;

/* =====================================
   main
   ===================================== */
body {
    background: url('../img/bg-wood.png') fixed center;
    background-size: contain;
}


#loading {
    @include size(100%);
    position: fixed;
    z-index: 2;
    text-align: center;
    background: rgba(0,0,0,0.8) url('../img/loading.gif') center no-repeat;
    background-size: 250px;
}
.container {
    background: url('../img/bg.jpg');
}


.call-to-action {
    background: url('../img/call-to-action.png');
    background-size: contain;
    @include size(120px);
    a {
        display: block;
        @include size(100%);
    }
    &:hover {
        @include transform(scale(1.1));
        @include transition($transifion-effect);
    }
}
.facebook {
    background: url('../img/facebook.png');
    background-size: contain;
    position: fixed;
    @include size(150px, 116px);
    @include transition($transifion-effect);
    a {
        display: block;
        @include size(100%);
    }
}

/* =====================================
   header
   ===================================== */
.header {
    min-height: 100px;
    @include clearfix;
    .logo {
        float: left;
        background: url('../img/logo.png');
        @include size(image-width('../img/logo.png'), image-height('../img/logo.png'));
        @include hide-text();
    }
    .banner {
        position: relative;
        margin: 0 auto;
        background: url('../img/banner.png') no-repeat;
        background-size: contain;
        @include size(600px,200px);
    }
}

/* =====================================
   nav
   ===================================== */
.main-nav {
    height: 50px;
    border-top: 1px solid #bbb;
    border-bottom: 1px solid #bbb;
    @include clearfix;
    a {
        padding: none;
        text-align: center;
        @include hide-text;
    }
    ul {
        height: 50px;
        padding-top: 5px;
        padding-bottom: 5px;
    }
    li {
        a:hover {
            background: none;
        }
        @each $class in about, product, progresss, edm {
            &.#{$class} {
                background: url('../img/btn-#{$class}.png') no-repeat center;
                background-size: contain;
                &:hover {
                    background: url('../img/btn-#{$class}-hover.png') no-repeat center;
                    background-size: contain;
                }
            }
        }
    }
}

.order-info {
    padding: 20px;
    margin-bottom: 30px;
}
.counter {
    position: absolute;
    top: 204px;
    left: 372px;
    text-align: center;
    @include size(140px, 71px);
}
.cake {
    position: relative;
    margin: 0 auto;
    background: url('../img/progress_cake.png') center top no-repeat, url('../img/progress_gray_line.png') center bottom no-repeat;
    @include size(100%, image-height('../img/progress_cake.png')+image-height('../img/progress_gray_line.png')+40);
}
.fund-raising {
    background: #fff;
    padding: 20px;
    text-align: centet;
    .text { 
        background: url('../img/progress_text.png') center top no-repeat;
        @include size(100%, image-height('../img/progress_text.png'));
    }
    .content {
        padding: 5px;
        margin-top: 20px;
        outline: 1px solid #a8a8a8;
        min-height: 300px;
        @include clearfix;
    }
    .title {
        position: relative;
        top: 15px;
        left: -5px;
        margin-bottom: 40px;
        padding-top: 7px;
        color: #fff;
        font-size: 24px;
        letter-spacing: 2px;
        @include background-via-img('../img/progress_arrow.png');
    }
    .money {
        position: relative;
        top: -2px;
        left: 5px;  
        margin-right: 5px; 
    }
    .content-bg { 
        background: #e9e3e2;
        position: relative;
        @include size(100%);
    }
    .chart {
        position: relative;
        text-align: center;
        .percent-wrap {
            position: absolute;
            top: 85px;
            width: 100%;
            text-align: center;
        }
        .percent {
            font-family: 'Rammetto One', cursive;
            font-size: 40px;
        }
    }
}

/* =====================================
   wall
   ===================================== */
.wall-container {
    @include size(image-width('../img/wall.png'), image-height('../img/wall.png'));
    letter-spacing: -0.32em;
}

.wall-cube,
.wall-black,
.wall-colorful {
    @include size(54.8px, 72px);
}

.wall-black,
.wall-colorful {
    position: absolute;
    z-index: 1;
    background: url('../img/wall-black.png');
    @include transition(all .4s ease-in-out);
}
.wall-cube {
    display: inline-block;
    margin-bottom: -0.3em;
}

.wall-cube.active {
    .wall-black { 
        @include transform(rotateY(180deg)); 
    }
    .wall-colorful { 
        @include transform(rotateY(0deg)); 
        z-index: 2;
    }
}

.wall-black {
    @include transform(rotateY(0deg));
    background: url('../img/wall-black.png');
    z-index: 2;
}
.wall-colorful {
    @include transform(rotateY(-180deg));
    background: url('../img/wall.png');
    z-index: 1;
} 
@for $i from 1 through 100 {
    .wall-cube-position:nth-child(#{$i}) { 
        @if $i < 11 {
            .wall-black,
            .wall-colorful {
                background-position: -54.8px * ($i - 1) -70px * 0;
            }
        } @else if  $i < 21 {
            .wall-black,
            .wall-colorful {
                background-position: -54.8px * ($i - 11) -70px * 1;
            }
        } @else if  $i < 31 {
            .wall-black,
            .wall-colorful {
                background-position: -54.8px * ($i - 11) -70px * 2;
            }
        } @else if  $i < 41 {
            .wall-black,
            .wall-colorful {
                background-position: -54.8px * ($i - 11) -70px * 3;
            }
        } @else if  $i < 51 {
            .wall-black,
            .wall-colorful {
                background-position: -54.8px * ($i - 11) -70px * 4;
            }
        } @else if  $i < 61 {
            .wall-black,
            .wall-colorful {
                background-position: -54.8px * ($i - 11) -70px * 5;
            }
        } @else if  $i < 71 {
            .wall-black,
            .wall-colorful {
                background-position: -54.8px * ($i - 11) -70px * 6;
            }
        } @else if  $i < 81 {
            .wall-black,
            .wall-colorful {
                background-position: -54.8px * ($i - 11) -70px * 7;
            }
        } @else if  $i < 91 {
            .wall-black,
            .wall-colorful {
                background-position: -54.8px * ($i - 11) -70px * 8;
            }
        } @else if  $i < 101 {
            .wall-black,
            .wall-colorful {
                background-position: -54.8px * ($i - 11) -70px * 9;
            }
        } @else {
            background-position: 0 0;
        }
    }
}
.odometer-formatting-mark {
    visibility: hidden;
    margin-left: -2px;
}


/* =====================================
   media query
   ===================================== */
@media (min-width: 992px) { 
    .main-container {
        width: 960px;
    }
    .container {
        width: 1040px;
        padding: 40px;
    }
    .call-to-action {
        position: fixed;
        top: 50px;
        right: 50px;
    }
    .facebook {
        bottom: 100px;
        right: -55px;
        @include transform(rotate(-90deg));
        &:hover {
            right: -50px;
        }
    }
}
@media (max-width: 767px) { 
    .header {
        margin-top: 20px;
    }
    .facebook {
        position: fixed;
        bottom: -25px;
        right: 10px;
        @include transform(rotate(0));
        @include size(100px, 77px);
        &:hover {
            right: 10px;
            bottom: -20px;
        }
    }
}